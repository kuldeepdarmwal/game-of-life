<!-- creative section -->
<div *ngIf="validation.geo" id="mpq_creative_info_section" class="scrollspy mpq_section_card">
	<ul class="collapsible popout collapsible-accordion" id="creative_content_collection">
		<li id="creative_info_section_header">
			<div class="card-content">
				<h4 class="card-title grey-text text-darken-1 bold">Creatives</h4>
			</div>
		</li>
		<li *ngFor="let product of products | productFilter: { selected: true }" class="display_collection_item" [class.active]="product.creatives.length > 0">
			<div class="io_creative_header">
				<div class="row">
	 				<div class="col s3 text-bold grey-text product-name">
						<img class="io_product_img" [src]="product.definition.product_enabled_img">
						<div class="io_product_title_section">{{product.definition.last_name}}</div>
					</div>
					<div class="col s5 text-bold grey-text io_creatives_defined_text product-status">
						<span class="io_all_creatives_defined">Creatives Assigned</span>
						<span class="io_all_creatives_hold">Creative Requests Pending</span>
						<a (click)="newCreativeRequest.emit(product.definition.last_name)" class="io_creatives_not_defined_yet">New Creative Request&nbsp;&nbsp;<i class="icon-picture icon-white"></i></a>
					</div>
					<div class="col s4">
						<a href="#" class="waves-effect waves-light btn btn-large grey darken-1 io_new_adset_request_button" materialize="leanModal" [materializeParams]="[{dismissible: true}]" href="#io_assign_creatives_modal" (click)="clearAssignCreativesSelect(product.id)">Assign Creatives</a>
					</div>
	 			</div>
			</div>
			<div *ngIf="product.creatives.length > 0" class="collapsible-body" style="display:block">
				<div class="card-content">
					<div *ngFor="let location of locations; let i = index;" class="row">
						<a href="#" class="io_single_creative_modal_link" data-product-id="1" data-region-id="0" *ngIf="location.total > 0" materialize="leanModal" [materializeParams]="[{dismissible: true}]" href="#io_creatives_modal" (click)="preloadCreativesSelect(product.id, i)">{{location.user_supplied_name}}&nbsp;&nbsp;<span class="icon-pencil"></span></a>
						<div class="creative_info_landing_pages_0">
							<div class="col s12">
								<ul>
									<li *ngFor="let creative of product.creatives | productRegionFilter: { regionId: i }">
										<i *ngIf="creative.status == '2'" class="material-icons io_icon_single_creative_status io_icon_on_hold tooltipped" materialize="tooltip" data-position="top" data-tooltip="Creative Request Pending"></i>
										<i *ngIf="creative.status != '2'" class="material-icons io_icon_single_creative_status io_icon_done"></i>
										{{creative.text}} : <a [href]="creative.landing_page" target="_blank">{{creative.landing_page}}</a>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
	   	</li>
	</ul>
</div>

<div id="io_creatives_modal" class="modal">
	<div class="modal-content">
		<div class="row">
			<h4 class="col s7 grey-text text-darken-1">Creative</h4>
			<div class="col s5" style="margin:1rem 0rem 1rem 0rem; padding-top:7px;">
				<div style="float:right; display:inline-block;">
					<input class="filled-in" type="checkbox" id="single_creative_modal_all_versions" [(ngModel)]="showAllVersionsBool" (change)="changeShowAllVersions()">
					<label for="single_creative_modal_all_versions">Show all versions?</label>
				</div>
			</div>
		</div>
		<div id="io_single_creative_modal_body_content">
			<input type="text" #creativeSelect
                   [propertiesObj]="creativeSelectObj"
                   mySelect2 class="grey-text text-darken-1" length="255">
		</div>
	</div>
	<div class="modal-footer">
		<a id="io_single_creative_cancel" class="modal-action modal-close waves-effect waves-red btn-flat">Cancel</a>
		<a (click)="addCreatives()" id="io_single_creative_save" class="waves-effect waves-green btn-flat">OK</a>
	</div>
</div>

<div id="io_assign_creatives_modal" class="modal">
	<div class="modal-content">
		<div class="row">
			<h4 class="col s7 grey-text text-darken-1">Creative</h4>
			<div class="col s5" style="margin:1rem 0rem 1rem 0rem; padding-top:7px;">
				<div style="float:right; display:inline-block;">
					<input class="filled-in" type="checkbox" id="single_creative_modal_all_versions" [(ngModel)]="showAllVersionsBool" (change)="changeShowAllVersions()">
					<label for="single_creative_modal_all_versions">Show all versions?</label>
				</div>
			</div>
		</div>
		<div id="io_single_creative_modal_body_content">
			<input type="text" #creativeAssignSelect
                   [propertiesObj]="creativeSelectObj"
                   mySelect2 class="grey-text text-darken-1" length="255">
		</div>
	</div>
	<div class="modal-footer">
		<a id="io_single_creative_cancel" class="modal-action modal-close waves-effect waves-red btn-flat">Cancel</a>
		<a (click)="assignCreatives()" id="io_single_creative_save" class="waves-effect waves-green btn-flat">OK</a>
	</div>
</div>