/* Copr. (c) 2011, 4Mads */
function px(a){return a>-1e-4&&a<1e-4?0:a+"px"}function pxa(a){return a>0?px(a):"0"}function pc(a){return a>-1e-4&&a<1e-4?0:a+"%"}(function(){var a=false,b=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){};Class.extend=function(l,h,j){var k=this.prototype;a=true;var d=new this;a=false;var c;for(c in l){var f=l[c];if(typeof f=="function"&&typeof k[c]=="function"&&b.test(f))f=function(a,b){return function(){var d=this._super;this._super=k[a];var c=b.apply(this,arguments);this._super=d;return c}}(c,f);d[c]=f}if(h)for(c in h)e[c]=h[c];if(j)for(c in j){var i="_"+c,g=c[0].toUpperCase()+c.substr(1);d[i]=j[c];d["get"+g]=function(a){return function(){return this[a]}}(i);d["set"+g]=function(a,b){return function(c){if(this[a]!=c){this.dirty();b&&b.apply(this,arguments);this[a]=c}}}(i,d["set"+g])}function e(){!a&&this.init&&this.init.apply(this,arguments)}e.prototype=d;e.constructor=e;e.extend=arguments.callee;return e}})();var MySprite=Class.extend({init:function(a){this.elt=a;this._fDirty=false;this.dirty()},dirty:function(){if(!this._fDirty){this._fDirty=true;MySprite.dirty(this)}},clean:function(){this._fDirty=false;if(!this.elt)return;var a=this.getVisible()?this.getAlpha():0;MySprite.setCssOpacity(this.elt,a)},setParams:function(a){for(var b in a)this.setParam(b,a[b])},setParam:function(a,c){var b=this["set"+a[0].toUpperCase()+a.substr(1)];if(typeof b=="function")b.call(this,c);else this[a]=c}},{_rgDirty:[],dirty:function(a){this._rgDirty.push(a)},ieVersion:function(){var a=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");return a.exec(navigator.userAgent)!=null?parseFloat(RegExp.$1):-1}(),clean:function(){var c=this._rgDirty;while(c.length){var b=c.pop();if(!b._fDirty)continue;var a=b._parentContainer;while(a){if(a._fDirty)b=a;a=a._parentContainer}b.clean()}},cssColor:function(a){var d=a>>16&255,c=a>>8&255,b=a>>0&255;return"rgb("+d+","+c+","+b+")"},cssColor32:function(a){var c=a>>24&255,f=a>>16&255,e=a>>8&255,d=a>>0&255,b="rgba("+f+","+e+","+d+","+c/255+")";return b},cssOpacity:function(a){var b=a>>24&255;return b/255},setCssOpacity:function(c,a){var b=c.style;if(a){b.visibility="";b.opacity=a;b.filter=a>=1?"":"alpha(opacity="+a*100+");"}else b.visibility="hidden"},bindCall:function(c,a){var b=Array(arguments).slice(2);return function(){return a.apply(c,b.concat(Array.prototype.slice.call(arguments)))}},loadImage:function(d,c,b){var a=document.createElement("img");a.className="image";a.setAttribute("unscaled-width",c);a.setAttribute("unscaled-height",b);this.addPendingImage(a,d);return a},_rgPendingCallbacks:[],_cPendingCallbacks:0,addPendingCallback:function(a){if(this._cPendingCallbacks==0)a();else this._rgPendingCallbacks.push(a)},lockPending:function(){this._cPendingCallbacks++},unlockPending:function(){if(--this._cPendingCallbacks==0){var a=this._rgPendingCallbacks;this._rgPendingCallbacks=[];while(a.length)a.pop()()}},addPendingImage:function(a,c){if(a._url==c)return;function d(a){if(a._url!=c)return false;if(a.removeEventListener)a.removeEventListener("load",b,false);else a.detachEvent("onload",b);return true}function b(){d(a)&&MySprite.unlockPending()}if(!a._url){d(a);if(a.addEventListener)a.addEventListener("load",b,false);else a.attachEvent("onload",b);this.lockPending()}a._url=c;a.src=c}},{x:0,y:0,width:0,height:0,visible:true,alpha:1});window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}