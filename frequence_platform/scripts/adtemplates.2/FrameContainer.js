/* Copr. (c) 2011, 4Mads */
var FrameContainer=MySprite.extend({init:function(c,b,a){this._super(c);this.setParams(b);while(a&&a.length)this.addFrame(a.pop())},getFrame:function(c){for(var a=this.children.firstChild;a;a=a.nextSibling){var b=a._frame;if(b&&b.name==c)return b}return null},ensureChildren:function(){if(!this.children){this.children=document.createElement("div");this.children.className="children";this.elt.appendChild(this.children)}this.dirty()},addFrame:function(a){this.ensureChildren();this.children.appendChild(a.elt);_rgChildFrames=null;a._parentContainer=this;var b=this.getTemplate();if(b)b.allFrames[a._name]=a},removeFrame:function(a){if(a._parentContainer==this){a._parentContainer=null;this.children.removeChild(a.elt);_rgChildFrames=null;delete this.getTemplate().allFrames[a._name];this.dirty()}},_rgChildFrames:null,getChildFrames:function(){if(!this._rgChildFrames){this._rgChildFrames=[];if(this.children)for(var a=this.children.firstChild;a;a=a.nextSibling){var b=a._frame;b&&this._rgChildFrames.push(b)}}return this._rgChildFrames},processFrames:function(b){b.allFrames[this._name]=this;if(this.children)for(var a=this.children.firstChild;a;a=a.nextSibling){var c=a._frame;c&&c.processFrames(b)}},getParentContainer:function(){return this._parentContainer},getTemplate:function(){return!this._parentContainer?null:this._parentContainer.getTemplate()},_bannerSize:{x:0,y:0},getFrameSize:function(){return this._bannerSize},getVisibleSize:function(){return this._bannerSize},getClientSize:function(){return this._bannerSize},getAbsoluteLeft:function(){},getAbsoluteTop:function(){},clean:function(b){if(b)this._bannerSize=b;this._super(b);if(this.children)for(var d=this.getClientSize(),a=this.children.firstChild;a;a=a.nextSibling){var c=a._frame;c&&c.clean(d)}}})