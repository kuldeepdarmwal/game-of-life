/* Copr. (c) 2011, 4Mads */
var AdTemplateFrame=FrameContainer.extend({_eltBorder:null,_eltBackground:null,init:function(b,d,c){this._name=b;var a=document.createElement("div");a.setAttribute("name",b);this._super(a,d,c);a.className+=" frame";a._frame=this},getName:function(){return this._name},getVisible:function(){return this._visible&&this._visibility},getAlpha:function(){return this._alpha*this._transparency},getAbsoluteLeft:function(){return this._parentContainer.getAbsoluteLeft()+this._leftMargin+this._borderThickness+this._leftPadding},getAbsoluteTop:function(){return this._parentContainer.getAbsoluteTop()+this._topMargin+this._borderThickness+this._topPadding},_bannerSize:{x:0,y:0},getBannerWidth:function(){return this._bannerSize.x},getBannerHeight:function(){return this._bannerSize.y},getFrameSize:function(){return this._frameSize},getVisibleSize:function(){return this._visibleSize},getClientSize:function(){return this._clientSize},updateChildRect:function(){},getContentRectangle:function(){return{x:this._borderThickness,y:this._borderThickness,width:this.getBannerWidth()-this._borderThickness*2,height:this.getBannerHeight()-this._borderThickness*2}},clean:function(j){if(j)this._bannerSize=j;this._frameSize={x:this._bannerSize.x-this._leftMargin-this._rightMargin,y:this._bannerSize.y-this._topMargin-this._bottomMargin};this._visibleSize={x:this._frameSize.x-this._borderThickness*2,y:this._frameSize.y-this._borderThickness*2};this._clientSize={x:this._visibleSize.x-this._leftPadding-this._rightPadding,y:this._visibleSize.y-this._topPadding-this._bottomPadding};if(this.children){var d=this.children.style;d.top=d.right=d.bottom=d.left=pxa(this._borderThickness);d.borderRadius=d.MozBorderRadius=px(this._radius-this._borderThickness)}var i=this._frameSize.x,g=this._frameSize.y,e=this.elt.style,q=0,r=0,h=this._parentContainer;if(h&&h.getLeftPadding){q=h.getLeftPadding();r=h.getTopPadding()}e.left=px(this._leftMargin+this._offsetX+q);e.top=px(this._topMargin+this._offsetY+r);e.width=pxa(i);e.height=pxa(g);e.zIndex=this._zIndex;var p=MySprite.cssOpacity(this._borderColor);if(p&&i&&g&&this._borderThickness>0){if(!this._eltBorder){this._eltBorder=document.createElement("DIV");this._eltBorder.className="border";this.elt.appendChild(this._eltBorder)}var f=this._eltBorder.style;f.borderColor=MySprite.cssColor(this._borderColor);f.borderWidth=pxa(this._borderThickness);f.borderRadius=f.MozBorderRadius=pxa(this._radius);MySprite.setCssOpacity(this._eltBorder,p)}else if(this._eltBorder){this.elt.removeChild(this._eltBorder);this._eltBorder=null}var o=MySprite.cssOpacity(this._backgroundColor);if(o&&i&&g){if(!this._eltBackground){this._eltBackground=document.createElement("DIV");this._eltBackground.className="background";this.elt.insertBefore(this._eltBackground,this.elt.firstChild)}var a=this._eltBackground.style;a.top=a.right=a.bottom=a.left=px(this._borderThickness);var v=MySprite.isVer,l;if(v<0||v>=9)l=this._backgroundStops;if(!l){a.background=MySprite.cssColor(this._backgroundColor);MySprite.setCssOpacity(this._eltBackground,o)}else{MySprite.setCssOpacity(this._eltBackground,1);var A=this._backgroundGradientEndX-this._backgroundGradientStartX,B=this._backgroundGradientEndY-this._backgroundGradientStartY,m=A*(i-this._borderThickness*2)/100,n=B*(g-this._borderThickness*2)/100,x=Math.sqrt(m*m+n*n),b,c;if(this._backgroundGradientStyle=="radial"){b="-moz-radial-gradient("+pc(this._backgroundGradientStartX)+" "+pc(this._backgroundGradientStartY)+", circle";c="-webkit-gradient(radial, "+pc(this._backgroundGradientStartX)+" "+pc(this._backgroundGradientStartY)+", 0, "+pc(this._backgroundGradientStartX)+" "+pc(this._backgroundGradientStartY)+", "+x}else{var y=-Math.atan2(n,m);b="-moz-linear-gradient("+pc(this._backgroundGradientStartX)+" "+pc(this._backgroundGradientStartY)+" "+y+"rad";c="-webkit-gradient(linear, "+pc(this._backgroundGradientStartX)+" "+pc(this._backgroundGradientStartY)+", "+pc(this._backgroundGradientEndX)+" "+pc(this._backgroundGradientEndY)}b+=", "+MySprite.cssColor32(this._backgroundColor);c+=", from("+MySprite.cssColor32(this._backgroundColor)+")";for(var u=l.split(";"),k=0;k<u.length;k++){var s=u[k].split(","),w=parseFloat(s[0]),z=parseInt(s[1]),t=MySprite.cssColor32(z);b+=", "+t+" "+px(x*w/255);c+=", color-stop("+w/255+", "+t+")"}b+=")";c+=")";a.background=b;a.background=c}a.borderRadius=a.MozBorderRadius=px(this._radius-this._borderThickness)}else if(this._eltBackground){this.elt.removeChild(this._eltBackground);this._eltBackground=null}this._super(j)}},null,{visibility:true,transparency:1,zIndex:0,radius:0,backgroundColor:0,backgroundStops:"",backgroundGradientStartX:0,backgroundGradientStartY:0,backgroundGradientEndX:0,backgroundGradientEndY:0,borderColor:0,borderThickness:0,offsetX:0,offsetY:0,panX:0,panY:0,scaleX:1,scaleY:1,leftMargin:0,rightMargin:0,topMargin:0,bottomMargin:0,leftPadding:0,rightPadding:0,topPadding:0,bottomPadding:0,clickUrl:null})